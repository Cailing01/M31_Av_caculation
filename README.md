# .
利用哈勃空间望远镜的近红外数据，进行近邻星系的消光计算。

# 方法原理
1、红巨星在近红外波段的CMD图（颜色星等图）上的分布应该是一条很窄的序列，受到消光影响的红巨星会向右移动（红化），而没有受到消光影响的则保持不动，这就导致这个序列变宽，甚至变成双峰。
2、我们希望通过衡量这个变化的程度，来计算消光值。具体做法就是找到该序列中未红化的红巨星，以及红化的红巨星，通过模型拟合两类红巨星的CMD图的差异，得到消光值。
3、我们选择的是贝叶斯模型。

# 注
我们利用该程序得到的是某一个pixel区域的消光值（这个pixel是由我们所决定的，如直径14角秒或7角秒），而不是某一颗恒星的消光值。

# 我们从拿到光学数据，到得到某个消光值的过程如下。
一、未红化和红化的红巨星列表
1、我们对Williams等人（2014）处理好的M31的星表，进行一些简单的筛选和计算，得到所有红巨星的列表以及红巨星的某些参数（如F110W、F160W波段的星等，所在pixel的宽度等）。通过某些参数的筛选，我们得到整个数据中未红化的红巨星的列表。（PHAT_rgb_reduction.py）
2、将整个红巨星列表按照空间位置进行分割（我们选择的是直径为7角秒的pixel）。对于每一个bin，我们通过密度最近原则为它分配相应的未红化的红巨星的列表。这一步的原因是我们无法直接区分出哪一颗红巨星是否被红化了，因此我们要人为地去为每一个bin分配未红化的红巨星序列。（PHAT_get_tdata.py）

二、模型拟合
对于每一个pixel的贝叶斯模型，我们设置四个参数，其中就包括消光值。然后我们通过emcee程序进行采样，得到最佳的参数值。（PHAT_model.py，PHAT_test.py）

三、分子云消光的计算
分子云的消光值一般要高于周围区域，因此该程序被寄希望于寻找近邻星系中的分子云（但是这一点需要慎重考虑，因为我们的消光值是基于尘埃的影响，而尘埃的存在是否意味着分子云的存在还有待论证，这是我在毕业答辩时大佬提出的问题，值得思考），。
该程序的主要目标就是

# CSST应用
我们
